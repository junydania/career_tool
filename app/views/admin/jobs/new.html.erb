
<%= content_for :before_body do %>
  <!-- Plugins css-->
  <link href="/assets/plugins/bootstrap-tagsinput/dist/bootstrap-tagsinput.css" rel="stylesheet" />
  <link href="/assets/plugins/multiselect/css/multi-select.css"  rel="stylesheet" type="text/css" />
  <link href="/assets/plugins/select2/dist/css/select2.css" rel="stylesheet" type="text/css">
  <link href="/assets/plugins/select2/dist/css/select2-bootstrap.css" rel="stylesheet" type="text/css">
  <link href="/assets/plugins/bootstrap-touchspin/dist/jquery.bootstrap-touchspin.min.css" rel="stylesheet" />
  <link href="/assets/plugins/switchery/switchery.min.css" rel="stylesheet" />
  <link href="/assets/plugins/mjolnic-bootstrap-colorpicker/dist/css/bootstrap-colorpicker.min.css" rel="stylesheet">
<% end %>


<div class="content-page">
<!-- Start content -->
  <div class="content">
    <div class="container">
      <%= form_for([:admin, @job], html: { multipart: true }) do |f| %>
        <div class="row">
          <div class="col-sm-12">
            <div class="card-box">
              <h4 class="header-title m-t-0 m-b-30">New Job</h4>
              <%= flash[:notice] %>
              <div class="row">
                <div class="col-md-6">
                  <div class="p-20">
                    <h5><b><%= f.label :job_name, 'Job Name' %></b></h5>
                    <%= f.text_field :job_name, autofocus: true, :class => "form-control" %>
                    <!--<input type="text" class="form-control" name="defaultconfig" id="defaultconfig" />-->

                    <div class="m-t-20">
                      <h5><b><%= f.label :sbg_grade, 'SBG Grades' %></b></h5>
                      <%= f.select :sbg_grade, options_for_select((1..15).map {|i| ["SBG#{i}", i]}.unshift(['Select Grade', nil])), :class =>'form-control', :id=>'job_style' %>
                    </div>

                    <div class="m-t-20">
                      <h5><b><%= f.label :business_unit_id, 'Business Unit' %></b></h5>
                      <%= f.collection_select(:business_unit_id, @business_units, :id, :unit_name, class:'form-control select', style: 'width: 100%;', include_blank: 'Select a Business Unit') %>
                    </div>

                    <div class="m-t-20">
                      <h5><b><%= f.label :organizational_unit_id, 'Organizational Unit' %></b></h5>
                      <%= f.collection_select(:organizational_unit_id, @organizational_units, :id, :unit_name, class:'form-control select', style: 'width: 100%;', include_blank: 'Select an Organizational Unit') %>
                    </div>

                    <div class="m-t-20">
                      <h5><b><%= f.label :work_level_id, 'Work Level' %></b></h5>
                      <%= f.collection_select(:work_level_id, @work_level, :id, :level_name, class:'form-control select', style: 'width: 100%;', include_blank: 'Select an Organizational Unit') %>
                    </div>

                  </div>
                </div><!-- end col -->

                <div class="col-md-6">
                  <div class="p-20">
                    <h5><b><%= f.label :division_id, 'Division' %></b></h5>
                    <%= f.collection_select(:division_id, @divisions, :id, :division_name, class:'form-control select', style: 'width: 100%;', include_blank: 'Select a Division') %>

                    <div class="m-t-20">
                      <h5><b><%= f.label :job_family_id, 'Job Family' %></b></h5>
                      <%= f.collection_select(:job_family_id, @job_families, :id, :family_name, class:'form-control select', style: 'width: 100%;', include_blank: 'Select a Job Family') %>
                    </div>

                    <div class="m-t-20">
                      <h5><b><%= f.label :primary_cluster_id, 'Primary Cluster' %></b></h5>
                      <%= f.collection_select(:primary_cluster_id, @primary_clusters, :id, :cluster_name, class:'form-control select', style: 'width: 100%;', include_blank: 'Select a Primary Cluster') %>
                    </div>

                    <div class="m-t-20">
                      <h5><b><%= f.label :secondary_cluster_id, 'Secondary Cluster' %></b></h5>
                      <%= f.collection_select(:secondary_cluster_id, @secondary_clusters, :id, :cluster_name, class:'form-control select', style: 'width: 100%;', include_blank: 'Select a Secondary Family') %>
                    </div>
                  </div>
                </div><!-- end col -->
              </div><!-- end row -->
            </div>
          </div><!-- end col -->
        </div>
        <!-- end row -->

        <div class="row">
          <div class="col-sm-12">
            <div class="card-box">
              <h4 class="header-title m-t-0 m-b-30">Competences</h4>
              <div id='competences'>
                <%= f.fields_for :competences, Competence.new do |competence| %>
                    <%= render 'competence_fields', f: competence %>
                    <div class="links">
                      <%= link_to_add_association 'Add Skill', f, :competences, class: "btn btn-purple" %>
                    </div>
                <% end %>
                <br>
              </div>
            </div>
          </div><!-- end col -->
        </div>
        <%= f.submit "Submit New Job", class: "btn btn-success" %>
      <% end %>
    </div> <!-- container -->


  </div> <!-- content -->

  <br>

  <footer class="footer">
    2018 Â© Stanbic IBTC
  </footer>

  </div>

</div>
<!-- END wrapper -->


<%= content_for :after_body do %>

  <script>
      var resizefunc = [];
  </script>

  <!-- jQuery  -->
  <script src="/assets/js/jquery.min.js"></script>
  <script src="/assets/js/bootstrap.min.js"></script>
  <script src="/assets/js/detect.js"></script>
  <script src="/assets/js/fastclick.js"></script>
  <script src="/assets/js/jquery.slimscroll.js"></script>
  <script src="/assets/js/jquery.blockUI.js"></script>
  <script src="/assets/js/waves.js"></script>
  <script src="/assets/js/jquery.nicescroll.js"></script>
  <script src="/assets/js/jquery.scrollTo.min.js"></script>

  <!-- Plugins Js -->
  <script src="/assets/plugins/switchery/switchery.min.js"></script>
  <script src="/assets/plugins/bootstrap-tagsinput/dist/bootstrap-tagsinput.min.js"></script>
  <script type="text/javascript" src="/assets/plugins/multiselect/js/jquery.multi-select.js"></script>
  <script type="text/javascript" src="/assets/plugins/jquery-quicksearch/jquery.quicksearch.js"></script>
  <script src="/assets/plugins/select2/dist/js/select2.min.js" type="text/javascript"></script>
  <script src="/assets/plugins/bootstrap-touchspin/dist/jquery.bootstrap-touchspin.min.js" type="text/javascript"></script>
  <script src="/assets/plugins/bootstrap-inputmask/bootstrap-inputmask.min.js" type="text/javascript"></script>
  <script src="/assets/plugins/moment/moment.js"></script>
  <script src="/assets/plugins/timepicker/bootstrap-timepicker.min.js"></script>
  <script src="/assets/plugins/mjolnic-bootstrap-colorpicker/dist/js/bootstrap-colorpicker.min.js"></script>
  <script src="/assets/plugins/bootstrap-maxlength/bootstrap-maxlength.min.js" type="text/javascript"></script>

  <!-- App js -->
  <script src="/assets/js/jquery.core.js"></script>
  <script src="/assets/js/jquery.app.js"></script>

  <script>
      jQuery(document).ready(function() {

          //advance multiselect start

          // Select2
          $(".select2").select2();

          $(".select2-limiting").select2({
              maximumSelectionLength: 2
          });

      });

      //Bootstrap-TouchSpin
      $(".vertical-spin").TouchSpin({
          verticalbuttons: true,
          buttondown_class: "btn btn-primary",
          buttonup_class: "btn btn-primary",
          verticalupclass: 'ti-plus',
          verticaldownclass: 'ti-minus'
      });
      var vspinTrue = $(".vertical-spin").TouchSpin({
          verticalbuttons: true
      });
      if (vspinTrue) {
          $('.vertical-spin').prev('.bootstrap-touchspin-prefix').remove();
      }

      $("input[name='demo1']").TouchSpin({
          min: 0,
          max: 100,
          step: 0.1,
          decimals: 2,
          boostat: 5,
          maxboostedstep: 10,
          buttondown_class: "btn btn-primary",
          buttonup_class: "btn btn-primary",
          postfix: '%'
      });
      $("input[name='demo2']").TouchSpin({
          min: -1000000000,
          max: 1000000000,
          stepinterval: 50,
          buttondown_class: "btn btn-primary",
          buttonup_class: "btn btn-primary",
          maxboostedstep: 10000000,
          prefix: '$'
      });
      $("input[name='demo3']").TouchSpin({
          buttondown_class: "btn btn-primary",
          buttonup_class: "btn btn-primary"
      });
      $("input[name='demo3_21']").TouchSpin({
          initval: 40,
          buttondown_class: "btn btn-primary",
          buttonup_class: "btn btn-primary"
      });
      $("input[name='demo3_22']").TouchSpin({
          initval: 40,
          buttondown_class: "btn btn-primary",
          buttonup_class: "btn btn-primary"
      });

      $("input[name='demo5']").TouchSpin({
          prefix: "pre",
          postfix: "post",
          buttondown_class: "btn btn-primary",
          buttonup_class: "btn btn-primary"
      });
      $("input[name='demo0']").TouchSpin({
          buttondown_class: "btn btn-primary",
          buttonup_class: "btn btn-primary"
      });


      $('#reportrange span').html(moment().subtract(29, 'days').format('MMMM D, YYYY') + ' - ' + moment().format('MMMM D, YYYY'));

      //Bootstrap-MaxLength
      $('input#defaultconfig').maxlength()

      $('input#thresholdconfig').maxlength({
          threshold: 20
      });

      $('input#moreoptions').maxlength({
          alwaysShow: true,
          warningClass: "label label-success",
          limitReachedClass: "label label-danger"
      });

      $('input#alloptions').maxlength({
          alwaysShow: true,
          warningClass: "label label-success",
          limitReachedClass: "label label-danger",
          separator: ' out of ',
          preText: 'You typed ',
          postText: ' chars available.',
          validate: true
      });

      $('textarea#textarea').maxlength({
          alwaysShow: true
      });

      $('input#placement').maxlength({
          alwaysShow: true,
          placement: 'top-left'
      });
  </script>

<% end %>
